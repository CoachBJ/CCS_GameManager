/* ===== THEME (Charlotte Christian blue/gray, pro UI) ===== */
:root{
  --bg:#0b1220; --fg:#e8eef5; --muted:#9fb0c0;
  --acc:#2d66ff; --acc-2:#4fb1ff;
  --danger:#ff4d4d; --card:#101827; --line:#1b2433;
  --tap:56px; --radius:16px; --shadow:0 6px 20px rgba(0,0,0,.25);
}
body[data-theme="light"]{
  --bg:#f6f8fc; --fg:#0b1220; --muted:#55677b;
  --card:#ffffff; --line:#dfe6ee; --acc:#2d66ff; --acc-2:#0a84ff;
  --danger:#d92d2d;
}
html,body{margin:0;height:100%;background:var(--bg);color:var(--fg);font-family:system-ui,Segoe UI,Roboto,Arial}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
button{font:inherit;border:0;border-radius:14px;padding:0 16px;height:var(--tap);min-width:var(--tap);touch-action:manipulation;cursor:pointer}

/* Buttons */
.btn{background:linear-gradient(180deg,#18233a,#132034);color:var(--fg);border:1px solid var(--line);box-shadow:var(--shadow)}
.btn.primary{background:linear-gradient(180deg,var(--acc),#1448e8);color:#fff;font-weight:700;border-color:transparent}
.btn.ghost{background:transparent;border:2px solid var(--line);box-shadow:none}
.btn.warn{background:linear-gradient(180deg,#3a1414,#2a0f0f);color:#ffdede;border:1px solid #572020}
.btn.toggle.on{background:linear-gradient(180deg,var(--acc-2),var(--acc));color:#fff}
.btn:active{transform:scale(.98)}

/* App bar */
.appbar{
  position:sticky;top:0;z-index:5;
  display:grid;grid-template-columns:auto 1fr auto auto;
  gap:12px;align-items:center;
  background:linear-gradient(180deg,#0e1830,#0b1220);
  padding:12px env(safe-area-inset-right) 12px env(safe-area-inset-left);
  border-bottom:1px solid var(--line);
  box-shadow:var(--shadow);
}
.clock{justify-self:center;font-variant-numeric:tabular-nums}
#clockDisplay{font-size:44px;font-weight:800;letter-spacing:1px;text-shadow:0 2px 8px rgba(0,0,0,.5)}
.appbar-right{display:flex;gap:8px}

/* Layout cards */
.layout{display:flex;flex-direction:column;gap:12px;padding:12px}
.team-row,.panel,.log,.time-slider{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
.team-row{display:grid;gap:10px;padding:12px}
.team-left{display:grid;grid-template-columns:1fr auto auto;align-items:center;gap:10px}
.team-name{margin:0;font-size:18px;outline:none}
.score-wrap{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px}
.score{font-size:42px;font-weight:900;text-align:center;min-width:96px}
.minus{border-color:var(--danger);color:var(--danger)}
.quick-scores{display:grid;grid-template-columns:repeat(6,1fr);gap:8px}
.tos{display:grid;grid-template-columns:repeat(3,24px);gap:8px;align-items:center;justify-items:center}
.tos input{display:none}
.tos label{width:24px;height:24px;border-radius:6px;border:2px solid var(--line);display:inline-block;background:#182030;box-shadow:inset 0 0 0 2px rgba(0,0,0,.2)}
.tos input:checked + label{background:var(--acc)}

/* Utility rows */
.utils{display:flex;gap:10px;align-items:center;justify-content:space-between}
.time-presets{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.time-slider{display:flex;flex-wrap:wrap;align-items:center;gap:10px;padding:10px}
input[type="range"]{width:100%}
.log{max-height:30vh;overflow:auto;padding:8px}

/* Advanced panels */
.advanced{display:flex;flex-direction:column;gap:12px}
.panel{padding:12px}
.panel>summary{cursor:pointer;font-weight:700;margin:-12px -12px 12px -12px;padding:12px;border-bottom:1px solid var(--line)}
.lbl{display:block;margin-bottom:6px;color:var(--muted);font-size:.9rem}
.btn-group{display:flex;gap:8px;flex-wrap:wrap}
.inp{height:var(--tap);border-radius:12px;border:1px solid var(--line);background:#0e141d;color:var(--fg);padding:0 12px;min-width:120px}
.inp.small{min-width:64px;width:80px;text-align:center}
.assumptions{display:flex;gap:10px;flex-wrap:wrap}
.grid.two{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.btn-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.output{margin-top:10px;border:1px dashed var(--line);border-radius:12px;padding:10px;white-space:pre-wrap}
.output.mono{font-family:ui-monospace,SFMono-Regular,Consolas,monospace}

/* Toast */
.toast{
  position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
  background:rgba(20,27,45,.96);color:#fff;border:1px solid var(--line);
  padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);
  opacity:0;pointer-events:none;transition:opacity .2s;
  max-width:90vw;text-align:center;z-index:20;
}
.toast.show{opacity:1}

/* Responsive */
@media (min-width:900px){ .layout{max-width:820px;margin:0 auto} }